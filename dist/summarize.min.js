"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e};module.exports=function(e){var g=_extends({debug:!1,defaultStyles:!0,parentSelector:".js-summarize",contentSelector:"[data-summarize-height], [data-summarize-overlap]",toggleSelector:"[data-summarize-more], [data-summarize-less]",toggleTextSelector:"[data-summarize-more], [data-summarize-less]"},e);g.debug&&(console.log("Summarize ~ Settings"),console.log("  debug: "+g.debug),console.log("  defaultStyles: "+g.defaultStyles),console.log("  parentSelector: '"+g.parentSelector+"'"),console.log("  contentSelector: '"+g.contentSelector+"'"),console.log("  toggleSelector: '"+g.toggleSelector+"'"),console.log("  toggleTextSelector: '"+g.toggleTextSelector+"'"));var t=document.querySelectorAll(g.parentSelector),o=function(e){g.debug&&console.log("Summarize ~ Instance found");var t=e.querySelectorAll(g.contentSelector)[0],o=e.querySelectorAll(g.toggleSelector)[0],l=e.querySelectorAll(g.toggleTextSelector)[0];if(!t||!o||!l)return g.debug&&(console.log("  Missing required elements"),console.log("  Failed to initialize...")),{v:void 0};var r=parseInt(t.getAttribute("data-summarize-height")),s=parseInt(t.getAttribute("data-summarize-overlap")),i=o.getAttribute("data-summarize-less"),a=o.getAttribute("data-summarize-more");if(!(r&&s&&i&&a))return g.debug&&(console.log("  Missing required data attributes"),console.log("  Failed to initialize...")),{v:void 0};var n=t.getBoundingClientRect().height>=r+s,c=e.classList.contains("is-active"),u=function(){e.classList.remove("is-active"),t.classList.remove("is-active"),o.classList.remove("is-active"),l.innerHTML=a,g.defaultStyles&&(t.style.maxHeight=r+"px",t.style.overflow="hidden",t.style.WebkitMaskImage="-webkit-linear-gradient(top, black 0%, black 66.666%, transparent 100%)"),c=!0,g.debug&&console.log("  Content is hidden")};n?(e.classList.add("is-summarized"),g.debug&&console.log("  Instance is summarized"),u()):(o.style.display="none",g.debug&&console.log("  Instance is not summarized")),o.onclick=function(){n&&c?(e.classList.add("is-active"),t.classList.add("is-active"),o.classList.add("is-active"),l.innerHTML=i,g.defaultStyles&&(t.style.maxHeight="none",t.style.overflow="visible",t.style.WebkitMaskImage="none"),c=!1,g.debug&&console.log("  Content is visible")):u()}},l=!0,r=!1,s=void 0;try{for(var i,a=t[Symbol.iterator]();!(l=(i=a.next()).done);l=!0){var n=o(i.value);if("object"===(void 0===n?"undefined":_typeof(n)))return n.v}}catch(e){r=!0,s=e}finally{try{!l&&a.return&&a.return()}finally{if(r)throw s}}};