"use strict";module.exports=function(g){(g={debug:!0===g.debug,defaultStyles:!1!==g.defaultStyles,parentSelector:"string"==typeof g.parentSelector?g.parentSelector:".js-summarize",contentSelector:"string"==typeof g.contentSelector?g.contentSelector:".js-summarize-content",triggerSelector:"string"==typeof g.triggerSelector?g.triggerSelector:".js-summarize-trigger"}).debug&&(console.log("Summarize ~ Settings"),console.log("  debug: "+g.debug),console.log("  defaultStyles: "+g.defaultStyles),console.log("  parentSelector: '"+g.parentSelector+"'"),console.log("  contentSelector: '"+g.contentSelector+"'"),console.log("  triggerSelector: '"+g.triggerSelector+"'")),Array.from(document.querySelectorAll(g.parentSelector)).forEach(function(e){g.debug&&console.log("Summarize ~ Instance found");var t=e.querySelectorAll(g.contentSelector)[0],o=e.querySelectorAll(g.triggerSelector)[0];if(t&&o){var l=parseInt(t.getAttribute("data-summarize-height")),r=parseInt(t.getAttribute("data-summarize-overlap")),s=o.getAttribute("data-summarize-less"),n=o.getAttribute("data-summarize-more");if(l&&r&&s&&n){var i=t.getBoundingClientRect().height>=l+r,a=e.classList.contains("is-active"),c=function(){e.classList.remove("is-active"),t.style.maxHeight=l+"px",o.innerHTML=n,g.defaultStyles&&(t.style.overflow="hidden",t.style.WebkitMaskImage="-webkit-linear-gradient(top, black 0%, black 33.333%, transparent 100%)"),a=!0,g.debug&&console.log("  Content is hidden")};i?(e.classList.add("is-summarized"),g.debug&&console.log("  Instance is summarized"),c()):(o.style.display="none",g.debug&&console.log("  Instance is not summarized")),o.onclick=function(){i&&a?(e.classList.add("is-active"),t.style.maxHeight="none",o.innerHTML=s,g.defaultStyles&&(t.style.overflow="visible",t.style.WebkitMaskImage="none"),a=!1,g.debug&&console.log("  Content is visible")):c()}}else g.debug&&(console.log("  Missing required data attributes"),console.log("  Failed to initialize..."))}else g.debug&&(console.log("  Missing required elements"),console.log("  Failed to initialize..."))})};