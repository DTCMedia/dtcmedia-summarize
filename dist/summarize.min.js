"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e};module.exports=function(e){var d=_extends({debug:!1,defaultStyles:!0,parentSelector:".js-summarize",contentSelector:"[data-summarize-height], [data-summarize-overlap]",toggleSelector:"[data-summarize-more], [data-summarize-less]",toggleTextSelector:"[data-summarize-more], [data-summarize-less]"},e);d.debug&&(console.log("Summarize ~ Settings"),console.log("  debug: "+d.debug),console.log("  defaultStyles: "+d.defaultStyles),console.log("  parentSelector: '"+d.parentSelector+"'"),console.log("  contentSelector: '"+d.contentSelector+"'"),console.log("  toggleSelector: '"+d.toggleSelector+"'"),console.log("  toggleTextSelector: '"+d.toggleTextSelector+"'"));for(var m=document.querySelectorAll(d.parentSelector),t=function(e){d.debug&&console.log("Summarize ~ Instance found");var t=m[e],o=t.querySelectorAll(d.contentSelector)[0],l=t.querySelectorAll(d.toggleSelector)[0],s=t.querySelectorAll(d.toggleTextSelector)[0];if(!o||!l||!s)return d.debug&&(console.log("  Missing required elements"),console.log("  Failed to initialize...")),{v:void 0};var i=parseInt(o.getAttribute("data-summarize-height")),a=parseInt(o.getAttribute("data-summarize-overlap")),r=l.getAttribute("data-summarize-less"),n=l.getAttribute("data-summarize-more");if(!(i&&a&&r&&n))return d.debug&&(console.log("  Missing required data attributes"),console.log("  Failed to initialize...")),{v:void 0};var c=o.getBoundingClientRect().height>=i+a,u=t.classList.contains("is-active"),g=function(){t.classList.remove("is-active"),o.classList.remove("is-active"),l.classList.remove("is-active"),s.innerHTML=n,d.defaultStyles&&(o.style.maxHeight=i+"px",o.style.overflow="hidden",o.style.WebkitMaskImage="-webkit-linear-gradient(top, black 0%, black 66.666%, transparent 100%)"),u=!0,d.debug&&console.log("  Content is hidden")};c?(t.classList.add("is-summarized"),d.debug&&console.log("  Instance is summarized"),g()):(l.style.display="none",d.debug&&console.log("  Instance is not summarized")),l.onclick=function(e){e.preventDefault(),c&&u?(t.classList.add("is-active"),o.classList.add("is-active"),l.classList.add("is-active"),s.innerHTML=r,d.defaultStyles&&(o.style.maxHeight="none",o.style.overflow="visible",o.style.WebkitMaskImage="none"),u=!1,d.debug&&console.log("  Content is visible")):g()}},o=0;o<m.length;o++){var l=t(o);if("object"===(void 0===l?"undefined":_typeof(l)))return l.v}};