"use strict";module.exports=function(e){var d=Object.assign({debug:!1,defaultStyles:!0,parentSelector:".js-summarize",contentSelector:"[data-summarize-height], [data-summarize-overlap]",toggleSelector:"[data-summarize-more], [data-summarize-less]",toggleTextSelector:"[data-summarize-more], [data-summarize-less]"},e);d.debug&&(console.log("Summarize ~ Settings"),console.log("  debug: "+d.debug),console.log("  defaultStyles: "+d.defaultStyles),console.log("  parentSelector: '"+d.parentSelector+"'"),console.log("  contentSelector: '"+d.contentSelector+"'"),console.log("  toggleSelector: '"+d.toggleSelector+"'"),console.log("  toggleTextSelector: '"+d.toggleTextSelector+"'")),Array.from(document.querySelectorAll(d.parentSelector)).forEach(function(e){d.debug&&console.log("Summarize ~ Instance found");var t=e.querySelectorAll(d.contentSelector)[0],l=e.querySelectorAll(d.toggleSelector)[0],o=e.querySelectorAll(d.toggleTextSelector)[0];if(t&&l&&o){var s=parseInt(t.getAttribute("data-summarize-height")),a=parseInt(t.getAttribute("data-summarize-overlap")),i=l.getAttribute("data-summarize-less"),r=l.getAttribute("data-summarize-more");if(s&&a&&i&&r){var n=t.getBoundingClientRect().height>=s+a,c=e.classList.contains("is-active"),g=function(){e.classList.remove("is-active"),t.classList.remove("is-active"),l.classList.remove("is-active"),o.innerHTML=r,d.defaultStyles&&(t.style.maxHeight=s+"px",t.style.overflow="hidden",t.style.WebkitMaskImage="-webkit-linear-gradient(top, black 0%, black 66.666%, transparent 100%)"),c=!0,d.debug&&console.log("  Content is hidden")};n?(e.classList.add("is-summarized"),d.debug&&console.log("  Instance is summarized"),g()):(l.style.display="none",d.debug&&console.log("  Instance is not summarized")),l.onclick=function(){n&&c?(e.classList.add("is-active"),t.classList.add("is-active"),l.classList.add("is-active"),o.innerHTML=i,d.defaultStyles&&(t.style.maxHeight="none",t.style.overflow="visible",t.style.WebkitMaskImage="none"),c=!1,d.debug&&console.log("  Content is visible")):g()}}else d.debug&&(console.log("  Missing required data attributes"),console.log("  Failed to initialize..."))}else d.debug&&(console.log("  Missing required elements"),console.log("  Failed to initialize..."))})};